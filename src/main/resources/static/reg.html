<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>病例管理系统 - MANAGER SYSTEM</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <script type="text/javascript" src="assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="assets/js/base_config.js"></script>

    <!--  <link rel="stylesheet" href="assets/css/style.css"> -->
    <link rel="stylesheet" href="assets/css/loader-style.css">
    <link rel="stylesheet" href="assets/css/bootstrap.css">
    <link rel="stylesheet" href="assets/css/signin.css">
    <link rel="stylesheet" href="assets/js/layui/css/modules/layer/default/layer.css">


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="assets/ico/minus.png">
</head>

<body>
<!-- Preloader -->
<div id="preloader">
    <div id="status">&nbsp;</div>
</div>

<div class="container">



    <div class="" id="login-wrapper">
        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div id="logo-login">
                    <h1>请您填写信息
                        <span>Manager - System</span>
                    </h1>
                </div>
            </div>

        </div>

        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div class="account-box">
                    <div class="form-group">
                        <!--a href="#" class="pull-right label-forgot">Forgot email?</a-->
                        <label for="username">登录名</label>
                        <input type="text" id="username" class="form-control">
                    </div>
                    <div class="form-group">
                        <!--a href="#" class="pull-right label-forgot">Forgot password?</a-->
                        <label for="inputPassword">登录密码</label>
                        <input type="password" id="inputPassword" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="realName">真实姓名</label>
                        <input type="text" id="realName" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="age">年龄</label>
                        <input type="text" id="age" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="sex">性别</label>
                        <input type="text" id="sex" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="idCardNum">身份证号码</label>
                        <input type="text" id="idCardNum" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="phone">手机号码</label>
                        <input type="text" id="phone" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="email">邮箱</label>
                        <input type="text" id="email" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="history">过敏史</label>
                        <input type="text" id="history" class="form-control">
                    </div>
                    <a href="#" onclick="goToLogin()" style="margin-left: 139px;display: inline-block;margin-top: 10px;">已有账号？立即登录</a>
                    <button class="btn btn btn-primary pull-right" onclick="doReg();">
                        注 册
                    </button>
                    <a class="forgotLnk" href="index.html"></a>
                    <div class="row-block">
                        <div class="row">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <p>&nbsp;</p>
    <div style="text-align:center;margin:0 auto;">
        <h6 style="color:#fff;">© Copyright GREEN 2017 - 2018<br />
            病例管理系统 版权所有</h6>
    </div>

</div>



<!--  END OF PAPER WRAP -->




<!-- MAIN EFFECT -->
<script type="text/javascript" src="assets/js/layui/lay/modules/layer.js"></script>
<script type="text/javascript">
    function doReg() {
        var name = $('#username').val() || '';
        var password = $('#inputPassword').val() || '';
        var realName = $('#realName').val() || '';
        var age = $('#age').val() || '';
        var sex = $('#sex').val() || '';
        var idCardNum = $('#idCardNum').val() || '';
        var email = $('#email').val() || '';
        var history = $('#history').val() || '';
        var phone = $('#phone').val() || '';

        if('' == name){
            layer.msg('请输入登录名', {
                icon: 7,
                time: 1000
            });
            return false;
        }

        if('' == password){
            layer.msg('请输入密码', {
                icon: 7,
                time: 1000
            });
            return false;
        }

        if('' == realName){
            layer.msg('请输入真实姓名', {
                icon: 7,
                time: 1000
            });
            return false;
        }

        if('' == age){
            layer.msg('请输入年龄', {
                icon: 7,
                time: 1000
            });
            return false;
        }

        if('' == sex){
            layer.msg('请输入性别', {
                icon: 7,
                time: 1000
            });
            return false;
        }
//
//        if('' == idCardNum){
//            layer.msg('请输入身份证号码', {
//                icon: 7,
//                time: 1000
//            });
//            return false;
//        }

//        if('' == email){
//            layer.msg('请输入邮箱', {
//                icon: 7,
//                time: 1000
//            });
//            return false;
//        }

        if('' == phone){
            layer.msg('请输入手机号', {
                icon: 7,
                time: 1000
            });
            return false;
        }
//
//        if('' == history){
//            layer.msg('请输入登录名过敏史', {
//                icon: 7,
//                time: 1000
//            });
//            return false;
//        }


        $.ajax({
            url: SERVER_ROUTER.PATH_REG,
            type: 'POST',
            dataType: 'JSON',
            data: {
                name: name,
                password: password,
                realName:realName,
                idcard:idCardNum,
                phone:phone,
                email:email,
                history:history,
                age:age,
                sex:sex
            },
            success: function(data){
                if(data && data.status == SERVER_RESPONSE_CODE.OK){
                    window.location.href = SERVER_ROUTER.PATH_INDEX_PAGE + '?t=' + new Date().getTime();
                }else{
                    layer.msg(data.msg, {
                        icon: 7,
                        time: 1000
                    });
                }
            }
        });

        return false;
    }

    function goToLogin() {
        window.location.href = SERVER_ROUTER.PATH_LOGIN_PAGE;
        return false;
    }

</script>




</body>

</html>
